version: '3.8'

services:
  web:
    container_name: restb
    image: "docker.pkg.github.com/dschek/restcms/restcms:latest"
    ports:
      - "8080:8080"
    networks:
      - local
      - mongodb
    environment:
      - DBPORT=$DBPORT
      - DBHOST=$DBHOST
      - DBNAME=$DBNAME
      - DBUSERNAME=$DBUSERNAME
      - DBPASSWORD=$DBPASSWORD
      - PORT=$PORT
networks:
  mongodb:
    name: mongodb
    external: true
  default:
    name: local
    external: true